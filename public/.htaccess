
# Enable rewrite engine
RewriteEngine On

# Serve static files directly without any rewriting
RewriteRule ^(sitemap\.xml|sitemap-production\.xml|robots\.txt)$ - [L]

# Handle client routing for everything else
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/(sitemap.*\.xml|robots\.txt)$
RewriteRule . /index.html [L]

# Set proper MIME types for XML files
<Files "sitemap.xml">
    Header set Content-Type "application/xml; charset=utf-8"
    Header set Cache-Control "public, max-age=3600"
</Files>

<Files "sitemap-production.xml">
    Header set Content-Type "application/xml; charset=utf-8"
    Header set Cache-Control "public, max-age=3600"
</Files>

<Files "robots.txt">
    Header set Content-Type "text/plain; charset=utf-8"
</Files>

# Ensure XML files are served correctly
AddType application/xml .xml
